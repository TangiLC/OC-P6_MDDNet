<div class="center">
  
  <div class="article-container" *ngIf="article">
    <div class="update-button" *ngIf=isAllowed>
      <button mat-raised-button color="primary" (click)="navigateToUpdateArticle(article.id)">
        Modifier l'article
      </button>
    </div>
    <div>
      <app-article-detail [article]="article" [isFullView]="true"></app-article-detail>
    </div>

    <div class="comments-section">
      <h3>Commentaire<span *ngIf="article.comments.length>1">s</span></h3>
      <app-comment-detail *ngFor="let comment of article?.comments" [comment]="comment">
      </app-comment-detail>
    </div>


    <app-create-comment [articleId]="article.id" (commentCreated)="refreshArticle()"></app-create-comment>
  </div>


  <div class="loading" *ngIf="!(article$ | async)">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>
</div>